<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zzy的主页</title>
    <style>
        :root {
            --transition-time: 0.8s;
        }
        /* 基础样式保持不变... */
        /* 新增过渡遮罩 */
        .transition-mask {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #ff00ff;
            z-index: 999;
            pointer-events: none;
            opacity: 0;
            clip-path: circle(0% at 50% 50%);
            transition: clip-path var(--transition-time) cubic-bezier(0.4, 0, 0.2, 1);
        }
        /* 粒子效果 */
        .particles {
            position: fixed;
            width: 6px;
            height: 6px;
            background: white;
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
        }
        @keyframes particleFly {
            0% {
                transform: translate(0, 0);
                opacity: 1;
            }
            100% {
                transform: translate(var(--x, 0), var(--y, 0));
                opacity: 0;
            }
        }
        /* 移动端优化 */
        @media (max-width: 768px) {
            .btn {
                transition-duration: 0.4s;
            }
        }
    </style>
</head>
<body>
    <div class="transition-mask"></div>
    <h1 class="title">...</h1>
    <button class="btn" onclick="startTransition()">进入新次元</button>
    <script>
        function createParticles(x, y) {
            for(let i = 0; i < 30; i++) {
                const particle = document.createElement('div');
                particle.className = 'particles';
                Object.assign(particle.style, {
                    left: x + 'px',
                    top: y + 'px',
                    '--x': (Math.random() - 0.5) * 200 + 'px',
                    '--y': (Math.random() - 0.5) * 200 + 'px'
                });
                particle.style.animation = `particleFly ${Math.random()*0.6+0.4}s ease-out`;
                document.body.appendChild(particle);
                setTimeout(() => particle.remove(), 1000);
            }
        }
        function startTransition() {
            const mask = document.querySelector('.transition-mask');
            const btn = event.currentTarget.getBoundingClientRect();
            // 创建粒子
            createParticles(btn.left + btn.width/2, btn.top + btn.height/2);
            // 启动过渡动画
            mask.style.clipPath = 'circle(0% at '+ (btn.left + btn.width/2) +'px '+ (btn.top + btn.height/2) +'px)';
            mask.style.opacity = '1';
            setTimeout(() => {
                mask.style.clipPath = 'circle(150% at '+ (btn.left + btn.width/2) +'px '+ (btn.top + btn.height/2) +'px)';
            }, 10);
            setTimeout(() => {
                window.location.href = 'second.html';
            }, var(--transition-time) * 1000);
        }
    </script>
</body>
</html>
